#N canvas 99 73 1502 873 12;
#X obj 109 153 osc~;
#X obj 196 153 osc~;
#X obj 283 152 osc~;
#X obj 369 152 osc~;
#X obj 457 151 osc~;
#X obj 196 126 * 2;
#X obj 283 127 * 3;
#X obj 369 128 * 4;
#X obj 457 126 * 5;
#X obj 109 55 mtof;
#X obj 196 285 *~;
#X obj 283 283 *~;
#X obj 369 283 *~;
#X obj 457 283 *~;
#X obj 109 284 *~;
#X obj 127 176 r f0;
#X obj 214 177 r f1;
#X obj 301 177 r f2;
#X obj 387 177 r f3;
#X obj 475 176 r f4;
#X obj 131 320 +~;
#X obj 185 320 +~;
#X obj 239 320 +~;
#X obj 292 320 +~;
#X obj 292 492 *~;
#X obj 310 445 line~;
#X obj 310 420 pack 0 50;
#X floatatom 317 398 5 0 0 0 - - -;
#X obj 310 370 r vol;
#X obj 275 588 dac~;
#X obj 64 452 cnv 15 200 100 empty empty Turn_DSP_on_and_off 20 12
0 12 -258113 -1 0;
#X msg 163 476 \; pd dsp 0;
#X text 87 518 AUDIO ON;
#X text 162 518 AUDIO OFF;
#X msg 89 475 \; pd dsp 1;
#X obj 401 350 vsl 30 128 0 127 0 0 empty empty Volume 0 -9 0 10 -258113
-1 -1 0 1;
#X obj 454 352 vsl 30 128 0 127 0 0 empty empty Fund 0 -9 0 10 -228856
-1 -1 0 1;
#X obj 503 353 vsl 30 128 0 127 0 0 empty empty 1st_Harm 0 -9 0 10
-191407 -1 -1 0 1;
#X obj 554 353 vsl 30 128 0 127 0 0 empty empty 2nd_Harm 0 -9 0 10
-128992 -1 -1 0 1;
#X obj 605 354 vsl 30 128 0 127 0 0 empty empty 3rd_Harm 0 -9 0 10
-99865 -1 -1 0 1;
#X obj 658 354 vsl 30 128 0 127 0 0 empty empty 4th_Harm 0 -9 0 10
-1 -262144 -1 0 1;
#X obj 401 526 s vol;
#X obj 454 526 s f0;
#X obj 503 526 s f1;
#X obj 554 526 s f2;
#X obj 605 527 s f3;
#X obj 658 526 s f4;
#X obj 401 499 / 127;
#X obj 454 499 / 127;
#X obj 503 498 / 127;
#X obj 554 498 / 127;
#X obj 605 500 / 127;
#X obj 658 498 / 127;
#X obj 475 226 pack 0 50;
#X obj 475 253 line~;
#X obj 387 226 pack 0 50;
#X obj 387 253 line~;
#X obj 301 227 pack 0 50;
#X obj 301 254 line~;
#X obj 214 227 pack 0 50;
#X obj 214 253 line~;
#X obj 127 226 pack 0 50;
#X obj 127 254 line~;
#X obj 109 26 r midi-note;
#X obj 72 381 hsl 128 30 0 127 0 0 empty empty MIDI_note_Number -2
-8 0 10 -232576 -258113 -1 0 1;
#X obj 69 417 s midi-note;
#X floatatom 153 54 5 0 0 0 - - -;
#X floatatom 132 203 5 0 0 0 - - -;
#X floatatom 219 204 5 0 0 0 - - -;
#X floatatom 306 205 5 0 0 0 - - -;
#X floatatom 393 204 5 0 0 0 - - -;
#X floatatom 481 204 5 0 0 0 - - -;
#X obj 46 -60 cnv 15 200 40 empty empty Harmonics 20 12 0 14 -257985
-66577 0;
#X text 496 124 Multiply frequency by integer to get harmonics;
#X text 495 149 Bank of oscillators;
#X text 514 174 Receive amplitudes for each harmonic from faders;
#X text 549 225 Use pack to make a amplitude/time pair;
#X text 324 317 Add the outputs of all the oscillators together;
#X text 549 246 Make an audio ramp using amplitude/time information
from pack and multiply this amplitude ramp with the output from the
oscillators. This is to avoid clicks when fader moves.;
#X text 696 351 Amplitude of the fundamental and harmonics on sliders
;
#X text 397 550 divide fader outputs by 127 to get them into range
0 to 1 and send to their outputs to the appropriate places;
#X obj 446 620 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 45 83 558 569 fft 0;
#X obj 19 61 inlet~;
#X obj 95 214 inlet;
#X obj 29 92 rfft~;
#X obj 29 125 *~;
#X obj 60 125 *~;
#X obj 29 155 sqrt~;
#X obj 332 109 block~ 4096 1;
#X obj 29 181 biquad~ 0 0 0 0 1;
#X text 93 93 Fourier series;
#X text 98 146 magnitude;
#X text 96 131 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 83 61 signal to analyze;
#X text 192 166 delay two samples;
#X text 191 182 for better graphing;
#X obj 16 425 samplerate~;
#X obj 16 402 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X floatatom 16 472 5 0 0 0 - - -;
#X obj 16 448 / 256;
#X obj 16 378 loadbang;
#X floatatom 16 541 5 0 0 0 - - -;
#X obj 24 494 s fundamental;
#X obj 16 517 ftom;
#X text 14 319 At load time \, calculate a good choice of fundamental
frequency for showing spectra: the 16th bin in a 4096-point spectrum
\, so SR*16/4096 or SR/256.;
#X text 145 216 "bang" into this inlet to graph it;
#X floatatom 191 480 5 0 0 0 - - -;
#X obj 191 456 / 4096;
#X text 187 425 One bin is SR/4096:;
#X text 72 540 <-just out of curiosity \, here's the fundamental pitch
;
#X obj 191 502 s freq-step;
#X obj 95 248 tabwrite~ E02-spectrum;
#X obj 20 281 tabwrite~ F05-signal;
#X connect 0 0 2 0;
#X connect 0 0 31 0;
#X connect 1 0 30 0;
#X connect 1 0 31 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 30 0;
#X connect 15 0 18 0;
#X connect 15 0 26 0;
#X connect 16 0 15 0;
#X connect 17 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 22 0 20 0;
#X connect 25 0 29 0;
#X connect 26 0 25 0;
#X restore 407 685 pd fft;
#N canvas 0 22 450 300 (subpatch) 0;
#X array E02-spectrum 128 float 0;
#X coords 0 4300 127 -40 257 130 1;
#X restore 852 573 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array F05-signal 882 float 0;
#X coords 0 1 882 -1 200 130 1;
#X restore 855 422 graph;
#X obj 446 653 metro 200;
#X obj 322 615 pvu~;
#X obj 323 649 vu 15 120 empty empty -1 -8 0 10 -66577 -1 1 0;
#X floatatom 236 47 5 0 0 0 - - -;
#X floatatom 298 49 5 0 0 0 - - -;
#X floatatom 353 47 5 0 0 0 - - -;
#X floatatom 402 48 5 0 0 0 - - -;
#X text 232 4 experiment with non harmonic overtones (not integer multiples)
;
#X connect 0 0 14 0;
#X connect 1 0 10 0;
#X connect 2 0 11 0;
#X connect 3 0 12 0;
#X connect 4 0 13 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 4 0;
#X connect 9 0 0 0;
#X connect 9 0 5 0;
#X connect 9 0 6 0;
#X connect 9 0 7 0;
#X connect 9 0 8 0;
#X connect 10 0 20 1;
#X connect 11 0 21 1;
#X connect 12 0 22 1;
#X connect 13 0 23 1;
#X connect 14 0 20 0;
#X connect 15 0 61 0;
#X connect 15 0 67 0;
#X connect 16 0 59 0;
#X connect 16 0 68 0;
#X connect 17 0 57 0;
#X connect 17 0 69 0;
#X connect 18 0 55 0;
#X connect 18 0 70 0;
#X connect 19 0 53 0;
#X connect 19 0 71 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 29 0;
#X connect 24 0 29 1;
#X connect 24 0 82 0;
#X connect 24 0 86 0;
#X connect 25 0 24 1;
#X connect 26 0 25 0;
#X connect 28 0 26 0;
#X connect 28 0 27 0;
#X connect 35 0 47 0;
#X connect 36 0 48 0;
#X connect 37 0 49 0;
#X connect 38 0 50 0;
#X connect 39 0 51 0;
#X connect 40 0 52 0;
#X connect 47 0 41 0;
#X connect 48 0 42 0;
#X connect 49 0 43 0;
#X connect 50 0 44 0;
#X connect 51 0 45 0;
#X connect 52 0 46 0;
#X connect 53 0 54 0;
#X connect 54 0 13 1;
#X connect 55 0 56 0;
#X connect 56 0 12 1;
#X connect 57 0 58 0;
#X connect 58 0 11 1;
#X connect 59 0 60 0;
#X connect 60 0 10 1;
#X connect 61 0 62 0;
#X connect 62 0 14 1;
#X connect 63 0 9 0;
#X connect 63 0 66 0;
#X connect 64 0 65 0;
#X connect 81 0 85 0;
#X connect 85 0 82 1;
#X connect 86 0 87 0;
#X connect 88 0 5 1;
#X connect 89 0 6 1;
#X connect 90 0 7 1;
#X connect 91 0 8 1;
